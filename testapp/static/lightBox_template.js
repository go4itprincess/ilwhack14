var constituencies = {"type": "FeatureCollection", "features": [{"geometry": {"type": "MultiPolygon", "coordinates": [[[[-4.73847895404, 55.5287615126], [-4.73588033634, 55.5286533165], [-4.73426519011, 55.5283298391], [-4.73247323652, 55.5273990322], [-4.73177549551, 55.5260213024], [-4.73240834845, 55.5252071534], [-4.73316892322, 55.5247497112], [-4.73357816428, 55.5249383325], [-4.73465503638, 55.5251569854], [-4.73626109065, 55.5255795391], [-4.7372549461, 55.5256292328], [-4.73754863866, 55.5262069544], [-4.73732752311, 55.5264456144], [-4.73787188671, 55.5269817736], [-4.73825792697, 55.5276338352], [-4.73836883932, 55.5284313806]]], [[[-4.68314437119, 55.4354507286], [-4.68419210433, 55.4374925106], [-4.68437802981, 55.4383909265], [-4.68344489651, 55.4378280212], [-4.6828180023, 55.4377932367], [-4.68148709009, 55.4382880615], [-4.68133024177, 55.4385863406], [-4.68054167244, 55.4387789157], [-4.67945917257, 55.439230518], [-4.67908814335, 55.4396116914], [-4.67778280536, 55.4394820776], [-4.67682152248, 55.4399498782], [-4.67597916715, 55.4402361873], [-4.67498120422, 55.4400225111], [-4.67269204483, 55.4407296621], [-4.67283746888, 55.441430321], [-4.67180044528, 55.4412003935], [-4.67106013344, 55.4411024067], [-4.67100345818, 55.4413634262], [-4.67056585434, 55.4414395024], [-4.67001704738, 55.441624974], [-4.66961771784, 55.4414952624], [-4.6678310981, 55.4416852689], [-4.66722615263, 55.4415546419], [-4.66650200552, 55.4414149257], [-4.66437680833, 55.4421650852], [-4.66407353044, 55.442169895], [-4.66253549661, 55.4429288018], [-4.6593158738, 55.4449242932], [-4.65610492258, 55.4475945762], [-4.65618070635, 55.4456872758], [-4.65621182103, 55.444950406], [-4.65574331676, 55.4447088912], [-4.6558884355, 55.4449151818], [-4.65565791634, 55.4456734609], [-4.65558556103, 55.4451851351], [-4.65516909764, 55.4464004931], [-4.6539173532, 55.4478712865], [-4.6535093148, 55.4483655427], [-4.65038814554, 55.4492485199], [-4.65056118316, 55.4498946684], [-4.6522814931, 55.4488281402], [-4.65292676818, 55.4488518976], [-4.65147604779, 55.4499053994], [-4.65168392388, 55.4505283189], [-4.65099030882, 55.4508687548], [-4.65046565017, 55.453656802], [-4.65069064518, 55.4544168824], [-4.64678101415, 55.4558633712], [-4.64498988419, 55.4584064248], [-4.64610960874, 55.4602204346], [-4.64532256971, 55.4614365767], [-4.64429807001, 55.4636906696], [-4.64359392496, 55.4643980336], [-4.64406437488, 55.4668634036], [-4.64443025511, 55.468971477], [-4.64647729392, 55.4701443032], [-4.64664061176, 55.4702908842], [-4.64643853891, 55.4703923359], [-4.64511819889, 55.4706662885], [-4.64453652286, 55.4706995389], [-4.64438878428, 55.4707854302], [-4.64435443575, 55.4708868481], [-4.64410891665, 55.4708831662], [-4.64315345227, 55.4709586461], [-4.64042675927, 55.471996417], [-4.64061821191, 55.4722799283], [-4.64148426511, 55.4734216941], [-4.64073427274, 55.4732814793], [-4.63901491678, 55.4734120651], [-4.63790056561, 55.4731475562], [-4.63474646712, 55.4730735025], [-4.63075121695, 55.4762866989], [-4.62945685211, 55.4801617442], [-4.62921238924, 55.4811962185], [-4.62905402669, 55.4816463661], [-4.6291998256, 55.4856873044], [-4.63030554644, 55.4868626488], [-4.62986793524, 55.4871372254], [-4.63122857353, 55.4877425847], [-4.63081185818, 55.4879744677], [-4.62987564704, 55.4876566134], [-4.62917005038, 55.4885185232], [-4.62958822965, 55.4894245988], [-4.62883216907, 55.4895298334], [-4.62895618929, 55.4901554871], [-4.62898059675, 55.4905217064], [-4.63014824547, 55.4899644763], [-4.62991351873, 55.4905043559], [-4.62913542667, 55.4907781565], [-4.62884086101, 55.4909193174], [-4.62840481024, 55.4912181242], [-4.6273891848, 55.491657915], [-4.62534797926, 55.4927219544], [-4.62348282416, 55.4951727508], [-4.62300646017, 55.4990805021], [-4.62502176289, 55.5040916881], [-4.62666083409, 55.5087019282], [-4.62937225165, 55.5123075416], [-4.63200989799, 55.5148009736], [-4.63244111423, 55.5158730526], [-4.6337895501, 55.5159483163], [-4.63601046878, 55.5173198412], [-4.63606257859, 55.5177672602], [-4.63629003522, 55.5181596668], [-4.63764594958, 55.5189843941], [-4.63675503265, 55.5191186444], [-4.63859610709, 55.5198295391], [-4.63732248962, 55.5194776576], [-4.63961317136, 55.520608515], [-4.64208792703, 55.5218360328], [-4.65016974596, 55.5243966387], [-4.65142191433, 55.5240018819], [-4.65221901953, 55.52393248], [-4.65304380233, 55.5244152865], [-4.65375164017, 55.524620171], [-4.65410315456, 55.5251572742], [-4.65348787836, 55.5253387032], [-4.65443009775, 55.528010434], [-4.65527265611, 55.5283085699], [-4.65587901342, 55.528793399], [-4.65597822702, 55.5292541719], [-4.65736845358, 55.5288842259], [-4.65904536248, 55.5293574835], [-4.65856855634, 55.52997099], [-4.65748930706, 55.5305580217], [-4.65704036672, 55.5310918151], [-4.65920125588, 55.5355159501], [-4.66328113883, 55.5395243893], [-4.66856746325, 55.5403162685], [-4.66967468864, 55.5397662843], [-4.67073409245, 55.5389323856], [-4.67134871653, 55.5392767348], [-4.67275848364, 55.539635188], [-4.67394152888, 55.5402961083], [-4.67577770629, 55.5407234179], [-4.67739413801, 55.5414620265], [-4.67784378644, 55.5413605072], [-4.67939417982, 55.542432224], [-4.68041535575, 55.5426453834], [-4.68163159699, 55.5432317961], [-4.68220708611, 55.5434879595], [-4.68305532969, 55.543884663], [-4.68350865097, 55.5445345142], [-4.68501013612, 55.5449780117], [-4.68560789874, 55.5453972691], [-4.68618463726, 55.5457405793], [-4.68635074719, 55.5460605357], [-4.6866172555, 55.5465041339], [-4.68708561009, 55.5470709449], [-4.68667163346, 55.5479744237], [-4.68664450988, 55.5487849184], [-4.68606210998, 55.5494745583], [-4.68533624903, 55.5497583464], [-4.68456754464, 55.5498093581], [-4.68344306692, 55.5510376156], [-4.67833426111, 55.5483368361], [-4.67172387391, 55.5488461834], [-4.66735296169, 55.5519877857], [-4.66517131805, 55.5543562009], [-4.66430136363, 55.5571760493], [-4.6636982734, 55.557965802], [-4.66398465387, 55.5620782526], [-4.66411593965, 55.5623774215], [-4.66438575786, 55.5625908797], [-4.66418470779, 55.5628307601], [-4.66383113951, 55.5629732825], [-4.66320810364, 55.5644538062], [-4.66389128379, 55.5657117666], [-4.66389881457, 55.565869806], [-4.66377315824, 55.5661457988], [-4.66371417212, 55.5666567474], [-4.66321770218, 55.5668446225], [-4.66226977181, 55.5668778134], [-4.66255171342, 55.5675512394], [-4.66238673492, 55.5695665211], [-4.66302306472, 55.5704830309], [-4.65762832328, 55.5697651326], [-4.65745303788, 55.5697770253], [-4.65513688057, 55.5701760159], [-4.65310607786, 55.5660105685], [-4.63898761916, 55.5692818452], [-4.63569452331, 55.566372978], [-4.63101586063, 55.5623288566], [-4.62601433639, 55.5561413842], [-4.62620137008, 55.5535737875], [-4.62670092196, 55.5528143126], [-4.62863687775, 55.5515772725], [-4.62701156396, 55.5504840609], [-4.62523045051, 55.5484323738], [-4.62406571445, 55.5481562143], [-4.62276720391, 55.5483943678], [-4.61927499372, 55.5450210364], [-4.61502196539, 55.5396351068], [-4.61445084461, 55.5389596654], [-4.6134067323, 55.5362682603], [-4.61231839176, 55.5330034114], [-4.6127684059, 55.5314252768], [-4.6138152169, 55.5308168681], [-4.61462152074, 55.5305488662], [-4.61692084276, 55.5297347997], [-4.61848388217, 55.5290982357], [-4.62005411793, 55.5291662149], [-4.62109355722, 55.5283781246], [-4.62209574833, 55.5274595869], [-4.6221447493, 55.526862583], [-4.62141403393, 55.5263595804], [-4.62051465443, 55.5253217579], [-4.61974211195, 55.5244034619], [-4.61937083892, 55.5235619694], [-4.62055105607, 55.5225578359], [-4.62180499132, 55.5220195269], [-4.62249790796, 55.5214797412], [-4.62195757206, 55.5211695178], [-4.62184558541, 55.5207485457], [-4.62162696831, 55.5201536774], [-4.62133394188, 55.5197024246], [-4.62087351982, 55.5190686879], [-4.61937481706, 55.5182594184], [-4.61798765333, 55.5163619041], [-4.61414483804, 55.5143154956], [-4.60496439862, 55.5110739227], [-4.58911548947, 55.5056322642], [-4.58367018348, 55.5075127101], [-4.58223857609, 55.5069352872], [-4.58044890426, 55.5071779734], [-4.57974511117, 55.5077501067], [-4.5792833601, 55.5083423037], [-4.5780023085, 55.508419629], [-4.57669991414, 55.508364358], [-4.57608971668, 55.5082369791], [-4.5755704722, 55.508531948], [-4.57551050906, 55.5088747787], [-4.57538775139, 55.509323199], [-4.57455493202, 55.5092795965], [-4.57394192625, 55.5094974302], [-4.57314448954, 55.5095106013], [-4.57231799521, 55.5094668506], [-4.57133965134, 55.5095233618], [-4.57073928702, 55.5095467589], [-4.56982444296, 55.5096055197], [-4.56936745977, 55.5099818497], [-4.56855451895, 55.5102434027], [-4.56562755044, 55.5054760958], [-4.56514877867, 55.4998700305], [-4.56708575964, 55.4945476868], [-4.56967281876, 55.4912412933], [-4.57147911665, 55.4896608938], [-4.5783020103, 55.485634211], [-4.58099248647, 55.4836413238], [-4.58403147776, 55.4803034937], [-4.58620086116, 55.4763098122], [-4.58596440906, 55.4752613321], [-4.58397515596, 55.470160916], [-4.5867806095, 55.4649681609], [-4.59099194276, 55.4612260051], [-4.59268703039, 55.4588763817], [-4.59477779166, 55.4555700235], [-4.59524138522, 55.4548258051], [-4.59743919999, 55.449329254], [-4.60058264238, 55.4416552354], [-4.60312359193, 55.4388937439], [-4.60783460389, 55.4358162676], [-4.60960350475, 55.4332985107], [-4.61168932914, 55.4303649634], [-4.61491843998, 55.4277538987], [-4.61587681838, 55.4256111287], [-4.61601455685, 55.4225564641], [-4.61760091831, 55.4196370826], [-4.61944881643, 55.4177592768], [-4.62006261232, 55.4168148754], [-4.62168511053, 55.4152591708], [-4.62277966989, 55.4147035492], [-4.62294588111, 55.4158757293], [-4.6238023707, 55.4169719708], [-4.62456231532, 55.4176603863], [-4.62311114207, 55.417414676], [-4.62175308938, 55.4176676322], [-4.62082221813, 55.4182862519], [-4.62145715726, 55.4192110769], [-4.62339711214, 55.419867898], [-4.62434113046, 55.4212337223], [-4.62692570636, 55.4212429326], [-4.62823729619, 55.4217163226], [-4.6292049822, 55.422793059], [-4.62853699668, 55.4239427199], [-4.62778110393, 55.425482586], [-4.627636827, 55.4264510933], [-4.62776954132, 55.4277345504], [-4.62943712171, 55.4281382546], [-4.63033349809, 55.4279976234], [-4.63167658198, 55.4273727574], [-4.63208301358, 55.426568491], [-4.63209741045, 55.4253600732], [-4.63295900258, 55.4246269033], [-4.63447699737, 55.4252063463], [-4.63656543378, 55.4259487541], [-4.63787924348, 55.4268777333], [-4.63894826725, 55.4276906324], [-4.64357388718, 55.4263043879], [-4.64934236977, 55.4264815496], [-4.65431283509, 55.4281913051], [-4.66146008817, 55.4289797697], [-4.66976737786, 55.4294090026], [-4.67553773383, 55.4297682689], [-4.67933303399, 55.4325886069]]]]}, "type": "Feature", "id": 134947, "properties": {"ranks": {"rank_ed": "56.20311676", "population": 23.116, "rank_inc": "52.63054061", "rank_emp": "52.05627647", "rank_cri": "54.24153366", "rank_hou": "67.07344275", "rank_geo": "52.36655062", "rank_gen": "53.93680578", "rank_hea": "46.92580368"}, "name": "Ayr"}}]};



this._div.innerHTML =
	"<h4>" + constituencies.features[0].name + "</h4>" +
	"<br/>" +
	'<div class="bar-containers"' +
		'<span style="float: left;">Population</span>' + '<span style="float: right;">' + constituencies.features[0].ranks.population + '</span>' +
	'</div>' + 
	'<div class="bar-containers"' +
		'<span style="float: left;">Overall SIMD score</span>' + bar(constituencies.features[0].ranks.rank_gen) +
	'</div>' + 
	'<div class="bar-containers"' +
		'<span style="float: left;">Crime</span>' + bar(constituencies.features[0].ranks.rank_cri) +
	'</div>' + 
	'<div class="bar-containers"' +
		'<span style="float: left;">Access</span>' + bar(constituencies.features[0].ranks.rank_geo) +
	'</div>' + 
	'<div class="bar-containers"' +
		'<span style="float: left;">Housing</span>' + bar(constituencies.features[0].ranks.rank_hou) +
	'</div>' + 
	'<div class="bar-containers"' +
		'<span style="float: left;">Education</span>' + bar(constituencies.features[0].ranks.rank_ed) +
	'</div>' + 
	'<div class="bar-containers"' +
		'<span style="float: left;">Health</span>' + bar(constituencies.features[0].ranks.rank_hea) +
	'</div>' + 
	'<div class="bar-containers"' +
		'<span style="float: left;">Employement</span>' + bar(constituencies.features[0].ranks.rank_emp) +
	'</div>' + 
	'<div class="bar-containers"' +
		'<span style="float: left;">Income</span>' + bar(constituencies.features[0].ranks.rank_inc) +
	'</div>'


var bar = function(num) {

	var width = 300;
	return '<span style="float: right; opacity:0.9; background-color:' + getColorForPercentage(num/100) + '; height:15px; width:' + Math.floor(width*num/100) + '; box-shadow: 0 0 15px rgba(0,0,0,0.2); border-radius: 5px;"></span>'
}